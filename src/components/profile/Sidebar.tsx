import { useLogout } from "@/src/modules/auth/hooks/useLogout";
import SidebarItem from "./SidebarItem";
import { User, Lock, BarChart2, Gift, Trash2 } from "lucide-react";
import { useRouter } from "next/navigation";

export default function Sidebar({
  activeTab,
  onChange,
}: {
  activeTab: "info" | "password";
  onChange: (tab: "info" | "password") => void;
}) {
  const router = useRouter();
const logout = useLogout();

  return (
    <div className="w-16 sm:w-20 lg:w-[280px] bg-white rounded-2xl p-2 lg:p-4">
      <SidebarItem
        title="Personal Information"
        personal={true}
        icon={
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg "
            className="ml-3"
          >
            <path
              d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z"
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
            <path
              d="M20.59 22C20.59 18.13 16.74 15 12 15C7.26003 15 3.41003 18.13 3.41003 22"
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
          </svg>
        }
        active={activeTab === "info"}
        onClick={() => onChange("info")}
      />
      <SidebarItem
        title="Password manager"
        icon={
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="#3447AA"
            xmlns="http://www.w3.org/2000/svg"
            className="ml-3"
          >
            <path d="M12 17C12.5304 17 13.0391 16.7893 13.4142 16.4142C13.7893 16.0391 14 15.5304 14 15C14 14.4696 13.7893 13.9609 13.4142 13.5858C13.0391 13.2107 12.5304 13 12 13C11.4696 13 10.9609 13.2107 10.5858 13.5858C10.2107 13.9609 10 14.4696 10 15C10 15.5304 10.2107 16.0391 10.5858 16.4142C10.9609 16.7893 11.4696 17 12 17ZM18 8C18.5304 8 19.0391 8.21071 19.4142 8.58579C19.7893 8.96086 20 9.46957 20 10V20C20 20.5304 19.7893 21.0391 19.4142 21.4142C19.0391 21.7893 18.5304 22 18 22H6C5.46957 22 4.96086 21.7893 4.58579 21.4142C4.21071 21.0391 4 20.5304 4 20V10C4 9.46957 4.21071 8.96086 4.58579 8.58579C4.96086 8.21071 5.46957 8 6 8H7V6C7 4.67392 7.52678 3.40215 8.46447 2.46447C9.40215 1.52678 10.6739 1 12 1C12.6566 1 13.3068 1.12933 13.9134 1.3806C14.52 1.63188 15.0712 2.00017 15.5355 2.46447C15.9998 2.92876 16.3681 3.47995 16.6194 4.08658C16.8707 4.69321 17 5.34339 17 6V8H18ZM12 3C11.2044 3 10.4413 3.31607 9.87868 3.87868C9.31607 4.44129 9 5.20435 9 6V8H15V6C15 5.20435 14.6839 4.44129 14.1213 3.87868C13.5587 3.31607 12.7956 3 12 3Z" />
          </svg>
        }
        active={activeTab === "password"}
        onClick={() => onChange("password")}
      />
      <SidebarItem
        other
        title="Report"
        icon={
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="ml-3"
          >
            <path
              d="M16 11.78L20.24 4.45L21.97 5.45L16.74 14.5L10.23 10.75L5.46 19H22V21H2V3H4V17.54L9.5 8L16 11.78Z"
              fill="#1C1A1A"
            />
          </svg>
        }
        onClick={() => router.push("/report")}
      />

      <SidebarItem
        other
        title="Rewards"
        icon={
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="ml-3"
          >
            <path
              d="M9.06 1.93022C7.17 1.92022 5.33 3.74022 6.17 6.00022H3C2.46957 6.00022 1.96086 6.21093 1.58579 6.586C1.21071 6.96108 1 7.46978 1 8.00022V10.0002C1 10.2654 1.10536 10.5198 1.29289 10.7073C1.48043 10.8949 1.73478 11.0002 2 11.0002H11V8.00022H13V11.0002H22C22.2652 11.0002 22.5196 10.8949 22.7071 10.7073C22.8946 10.5198 23 10.2654 23 10.0002V8.00022C23 7.46978 22.7893 6.96108 22.4142 6.586C22.0391 6.21093 21.5304 6.00022 21 6.00022H17.83C19 2.73022 14.6 0.420217 12.57 3.24022L12 4.00022L11.43 3.22022C10.8 2.33022 9.93 1.94022 9.06 1.93022ZM9 4.00022C9.89 4.00022 10.34 5.08022 9.71 5.71022C9.08 6.34022 8 5.89022 8 5.00022C8 4.735 8.10536 4.48065 8.29289 4.29311C8.48043 4.10557 8.73478 4.00022 9 4.00022ZM15 4.00022C15.89 4.00022 16.34 5.08022 15.71 5.71022C15.08 6.34022 14 5.89022 14 5.00022C14 4.735 14.1054 4.48065 14.2929 4.29311C14.4804 4.10557 14.7348 4.00022 15 4.00022ZM2 12.0002V20.0002C2 20.5307 2.21071 21.0394 2.58579 21.4144C2.96086 21.7895 3.46957 22.0002 4 22.0002H20C20.5304 22.0002 21.0391 21.7895 21.4142 21.4144C21.7893 21.0394 22 20.5307 22 20.0002V12.0002H13V20.0002H11V12.0002H2Z"
              fill="#1C1A1A"
            />
          </svg>
        }
        onClick={() => router.push("profile/rewards")}
      />

      <div className="mt-6 border-t pt-4">
        <SidebarItem
          other
          title="Logout"
          icon={
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="ml-3"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M6 2C5.20435 2 4.44129 2.31607 3.87868 2.87868C3.31607 3.44129 3 4.20435 3 5V19C3 19.7956 3.31607 20.5587 3.87868 21.1213C4.44129 21.6839 5.20435 22 6 22H12C12.7956 22 13.5587 21.6839 14.1213 21.1213C14.6839 20.5587 15 19.7956 15 19V5C15 4.20435 14.6839 3.44129 14.1213 2.87868C13.5587 2.31607 12.7956 2 12 2H6ZM16.293 7.293C16.4805 7.10553 16.7348 7.00021 17 7.00021C17.2652 7.00021 17.5195 7.10553 17.707 7.293L21.707 11.293C21.8945 11.4805 21.9998 11.7348 21.9998 12C21.9998 12.2652 21.8945 12.5195 21.707 12.707L17.707 16.707C17.5184 16.8892 17.2658 16.99 17.0036 16.9877C16.7414 16.9854 16.4906 16.8802 16.3052 16.6948C16.1198 16.5094 16.0146 16.2586 16.0123 15.9964C16.01 15.7342 16.1108 15.4816 16.293 15.293L18.586 13H10C9.73478 13 9.48043 12.8946 9.29289 12.7071C9.10536 12.5196 9 12.2652 9 12C9 11.7348 9.10536 11.4804 9.29289 11.2929C9.48043 11.1054 9.73478 11 10 11H18.586L16.293 8.707C16.1055 8.51947 16.0002 8.26516 16.0002 8C16.0002 7.73484 16.1055 7.48053 16.293 7.293Z"
                fill="#E03030"
                fillOpacity="0.9"
              />
            </svg>
          }
          danger
onClick={() => logout.mutate()}
        />
      </div>
    </div>
  );
}
