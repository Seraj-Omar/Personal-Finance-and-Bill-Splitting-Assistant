const CARD_BASE =
  "relative flex flex-col  h-[137px] bg-white rounded-[16px] p-[16px] gap-1 border-[#D9D9D980] border-[0.5px]";
const svgrise = (
  <svg
    width="16"
    height="16"
    viewBox="0 0 16 16"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M12.8538 7.35378C12.8073 7.40027 12.7522 7.43714 12.6915 7.46231C12.6308 7.48747 12.5657 7.50042 12.5 7.50042C12.4343 7.50042 12.3692 7.48747 12.3085 7.46231C12.2478 7.43714 12.1927 7.40027 12.1463 7.35378L8.5 3.7069V13.5C8.5 13.6326 8.44733 13.7598 8.35356 13.8536C8.25979 13.9473 8.13261 14 8 14C7.86739 14 7.74022 13.9473 7.64645 13.8536C7.55268 13.7598 7.5 13.6326 7.5 13.5V3.7069L3.85375 7.35378C3.75993 7.4476 3.63269 7.50031 3.5 7.50031C3.36732 7.50031 3.24007 7.4476 3.14625 7.35378C3.05243 7.25996 2.99973 7.13271 2.99973 7.00003C2.99973 6.86735 3.05243 6.7401 3.14625 6.64628L7.64625 2.14628C7.69269 2.09979 7.74783 2.06291 7.80853 2.03775C7.86923 2.01259 7.9343 1.99963 8 1.99963C8.06571 1.99963 8.13077 2.01259 8.19147 2.03775C8.25217 2.06291 8.30732 2.09979 8.35375 2.14628L12.8538 6.64628C12.9002 6.69271 12.9371 6.74786 12.9623 6.80856C12.9874 6.86926 13.0004 6.93432 13.0004 7.00003C13.0004 7.06573 12.9874 7.1308 12.9623 7.1915C12.9371 7.2522 12.9002 7.30734 12.8538 7.35378Z"
      fill="#16C087"
    />
  </svg>
);
const svgdown = (
  <svg
    width="16"
    height="16"
    viewBox="0 0 16 16"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M12.8538 8.64622C12.8073 8.59973 12.7522 8.56286 12.6915 8.53769C12.6308 8.51253 12.5657 8.49958 12.5 8.49958C12.4343 8.49958 12.3692 8.51253 12.3085 8.53769C12.2478 8.56286 12.1927 8.59973 12.1463 8.64622L8.5 12.2931V2.49997C8.5 2.36736 8.44733 2.24019 8.35356 2.14642C8.25979 2.05265 8.13261 1.99997 8 1.99997C7.86739 1.99997 7.74022 2.05265 7.64645 2.14642C7.55268 2.24019 7.5 2.36736 7.5 2.49997V12.2931L3.85375 8.64622C3.75993 8.5524 3.63269 8.49969 3.5 8.49969C3.36732 8.49969 3.24007 8.5524 3.14625 8.64622C3.05243 8.74004 2.99973 8.86729 2.99973 8.99997C2.99973 9.13265 3.05243 9.2599 3.14625 9.35372L7.64625 13.8537C7.69269 13.9002 7.74783 13.9371 7.80853 13.9623C7.86923 13.9874 7.9343 14.0004 8 14.0004C8.06571 14.0004 8.13077 13.9874 8.19147 13.9623C8.25217 13.9371 8.30732 13.9002 8.35375 13.8537L12.8538 9.35372C12.9002 9.30729 12.9371 9.25214 12.9623 9.19144C12.9874 9.13074 13.0004 9.06568 13.0004 8.99997C13.0004 8.93427 12.9874 8.8692 12.9623 8.8085C12.9371 8.7478 12.9002 8.69266 12.8538 8.64622Z"
      fill="#FF5050"
    />
  </svg>
);
function shared(colour: string, Backgroundco: string) {
  return (
    <div
      style={{ backgroundColor: Backgroundco }}
      className="flex items-center justify-center  rounded-[8px]  w-[45px] h-[45px]"
    >
      <svg
        width="24"
        height="16"
        viewBox="0 0 24 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M10.789 10.3073C11.7942 9.63809 12.5573 8.66317 12.9656 7.52671C13.3738 6.39024 13.4055 5.15256 13.056 3.99669C12.7064 2.84082 11.9941 1.82813 11.0245 1.10837C10.0549 0.388613 8.87937 0 7.6718 0C6.46423 0 5.28871 0.388613 4.31909 1.10837C3.34946 1.82813 2.6372 2.84082 2.28763 3.99669C1.93807 5.15256 1.96976 6.39024 2.37802 7.52671C2.78627 8.66317 3.54942 9.63809 4.55461 10.3073C2.73632 10.9774 1.18346 12.2176 0.127737 13.8426C0.0722517 13.9251 0.0337116 14.0177 0.0143569 14.1152C-0.00499789 14.2127 -0.00478119 14.3131 0.0149944 14.4105C0.0347699 14.5079 0.0737098 14.6004 0.129551 14.6826C0.185391 14.7649 0.257019 14.8352 0.340271 14.8895C0.423522 14.9438 0.516736 14.981 0.614495 14.9989C0.712253 15.0169 0.812606 15.0152 0.909721 14.9941C1.00684 14.9729 1.09877 14.9326 1.18019 14.8756C1.26161 14.8186 1.33088 14.746 1.38399 14.662C2.06498 13.6146 2.99682 12.7539 4.0949 12.1581C5.19297 11.5623 6.42249 11.2502 7.6718 11.2502C8.92111 11.2502 10.1506 11.5623 11.2487 12.1581C12.3468 12.7539 13.2786 13.6146 13.9596 14.662C14.0696 14.8255 14.2395 14.9391 14.4327 14.9783C14.6258 15.0175 14.8266 14.9791 14.9916 14.8715C15.1567 14.7638 15.2727 14.5955 15.3147 14.403C15.3566 14.2105 15.3211 14.0092 15.2159 13.8426C14.1601 12.2176 12.6073 10.9774 10.789 10.3073ZM3.5468 5.62728C3.5468 4.81143 3.78873 4.01391 4.24199 3.33556C4.69525 2.6572 5.33948 2.12849 6.09323 1.81628C6.84698 1.50407 7.67638 1.42238 8.47655 1.58154C9.27672 1.74071 10.0117 2.13357 10.5886 2.71047C11.1655 3.28736 11.5584 4.02236 11.7175 4.82253C11.8767 5.62271 11.795 6.45211 11.4828 7.20585C11.1706 7.9596 10.6419 8.60383 9.96353 9.05709C9.28517 9.51035 8.48765 9.75228 7.6718 9.75228C6.57816 9.75104 5.52967 9.31605 4.75635 8.54273C3.98304 7.76941 3.54804 6.72092 3.5468 5.62728ZM23.2474 14.8804C23.0808 14.989 22.8779 15.0271 22.6833 14.9861C22.4887 14.9451 22.3183 14.8285 22.2096 14.662C21.5294 13.614 20.5977 12.7529 19.4994 12.1573C18.4011 11.5617 17.1712 11.2506 15.9218 11.2523C15.7229 11.2523 15.5321 11.1733 15.3915 11.0326C15.2508 10.892 15.1718 10.7012 15.1718 10.5023C15.1718 10.3034 15.2508 10.1126 15.3915 9.97195C15.5321 9.8313 15.7229 9.75228 15.9218 9.75228C16.5293 9.75171 17.1291 9.61697 17.6785 9.3577C18.2278 9.09843 18.7132 8.72102 19.0998 8.25245C19.4864 7.78387 19.7647 7.23569 19.9149 6.64707C20.065 6.05846 20.0834 5.44394 19.9685 4.84742C19.8537 4.25091 19.6085 3.68712 19.2505 3.19634C18.8925 2.70556 18.4305 2.29991 17.8976 2.00838C17.3646 1.71684 16.7739 1.54661 16.1675 1.50984C15.5612 1.47308 14.9542 1.5707 14.3899 1.79572C14.2979 1.83549 14.1989 1.85642 14.0987 1.85727C13.9984 1.85811 13.8991 1.83886 13.8064 1.80065C13.7137 1.76244 13.6297 1.70605 13.5592 1.6348C13.4887 1.56355 13.4332 1.4789 13.396 1.38584C13.3587 1.29278 13.3405 1.1932 13.3425 1.09299C13.3444 0.992777 13.3663 0.893966 13.4071 0.802394C13.4478 0.710821 13.5065 0.628344 13.5797 0.559837C13.6529 0.491329 13.739 0.438181 13.833 0.403532C15.1244 -0.111482 16.5608 -0.130016 17.865 0.351507C19.1692 0.83303 20.2489 1.78049 20.8958 3.01111C21.5427 4.24173 21.7109 5.66831 21.368 7.01564C21.0251 8.36298 20.1954 9.53559 19.039 10.3073C20.8573 10.9774 22.4101 12.2176 23.4659 13.8426C23.5745 14.0092 23.6125 14.2121 23.5716 14.4067C23.5306 14.6014 23.414 14.7717 23.2474 14.8804Z"
          fill={colour}
        />
      </svg>
    </div>
  );
}
type Data = {
  id: string;
  label: string;
  value: number;
  changePercentage: number;
  trend: "UP" | "DOWN";
};

interface OverviewProps {
  da: Data[];
}

const trendIcon = (trend: "UP" | "DOWN") =>
  trend === "UP" ? svgrise : svgdown;

const cardColors = (id: string) => {
  switch (id) {
    case "total-users":
      return { color: "#3447AA", bg: "#686FFF1A" };
    case "active-users":
      return { color: "#FFA9DC", bg: "#FFA9DC1A" };
    case "inactive-users":
      return { color: "#FF5050", bg: "#FFF0F2" };
    case "new-users":
      return { color: "#16C087", bg: "#E8FEF1" };
    default:
      return { color: "#000", bg: "#EEE" };
  }
};

export default function Overview({ da }: OverviewProps) {
  return (
    <div className="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 ">
      {da.map((item) => {
        const { color, bg } = cardColors(item.id);
        return (
          <div key={item.id} className={CARD_BASE}>
            <div className="flex items-center justify-between w-full h-[45px]">
              {shared(color, bg)}
              <div className="flex items-center gap-1">
                <p
                  className={
                    item.trend === "UP" ? "text-green-500" : "text-red-500"
                  }
                >
                  {item.changePercentage}%
                </p>
                {trendIcon(item.trend)}
              </div>
            </div>
            <div>
              <p
                className={`font-bold text-[24px] ${item.label === "inactive-users" ? "text-[#FF5050]" : "text-[#3447AA]"}`}
              >
                {item.value}
              </p>
              <p className="text-sm text-gray-500">{item.label}</p>
            </div>
          </div>
        );
      })}
    </div>
  );
}
