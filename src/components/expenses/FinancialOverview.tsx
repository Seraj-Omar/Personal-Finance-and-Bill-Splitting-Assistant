"use client";

import Card from "@/src/components/debts/Card";
import { useExpensesOverview } from "@/src/modules/expenses/hooks/useExpensesOverview";

function formatMoney(value?: string) {
  const n = Number(value ?? 0);
  return n.toLocaleString(undefined, { style: "currency", currency: "USD" });
}

export default function FinancialOverview() {
  const { data, isLoading, isError } = useExpensesOverview();

  const overview = data?.data;
  return (
    <div className=" p-8 bg-gray-50">
      <h1 className="relative text-xl  mb-4 w-fit ">
        Financial Overview
        <span className="mt-5 absolute left-0 bottom-0 w-full h-1  bg-gradient-to-r from-[#EFA5B6] to-[#3447AA]"></span>
      </h1>
         

      <div className="grid grid-cols-1 md:grid-cols-3 gap-6 ">
      <Card
            title="Total Balance"
            amount={formatMoney(overview?.totalBalance)}
          icon={<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fillRule="evenodd" clipRule="evenodd" d="M23.2689 5.53144C27.5387 5.53144 31 8.99275 31 13.2625C31 17.5322 27.5387 20.9935 23.269 20.9935C22.4655 20.9935 21.6907 20.8709 20.9622 20.6434C20.8666 19.9468 20.6884 19.2534 20.4307 18.5737C21.2763 19.0266 22.2426 19.2836 23.269 19.2836C26.5943 19.2836 29.2902 16.5878 29.2902 13.2624C29.2902 9.93713 26.5943 7.24125 23.269 7.24125C19.9437 7.24125 17.2478 9.93713 17.2478 13.2624C17.2478 13.3515 17.2501 13.44 17.2539 13.5281C16.7497 12.9006 16.2258 12.2872 15.6978 11.6914C16.4237 8.17506 19.5375 5.53144 23.2689 5.53144ZM14.3357 11.6742C14.1153 11.7393 13.8867 11.7723 13.6568 11.7722H7.39253C7.15691 11.7722 6.92909 11.7378 6.71366 11.6742C4.68241 13.9183 3.17109 15.8615 2.18009 17.6015C-1.40472 23.8959 3.69497 30.289 10.5247 30.1739C17.3545 30.289 22.4542 23.8959 18.8693 17.6015C17.8783 15.8615 16.367 13.9183 14.3357 11.6742ZM7.48716 6.964L6.18816 5.66506C5.62697 5.10387 5.62697 4.18556 6.18816 3.62444C6.66547 3.14713 7.42097 3.0665 7.98897 3.43106C8.19997 3.56644 8.44222 3.58806 8.67372 3.49219C8.90528 3.39625 9.06128 3.20981 9.11472 2.96481C9.25616 2.31713 9.83609 1.82825 10.5247 1.82812C11.2009 1.82812 11.7907 2.30475 11.9348 2.96481C11.9883 3.20981 12.1443 3.39625 12.3758 3.49219C12.6074 3.58812 12.8497 3.56638 13.0605 3.43106C13.6283 3.06662 14.384 3.14725 14.8613 3.62444C15.4225 4.18563 15.4225 5.10387 14.8613 5.66506L13.5623 6.964H7.48716ZM10.8791 23.6854C11.5605 23.6027 12.4562 23.2582 12.4367 22.4379C12.435 22.3953 12.4314 22.3527 12.4258 22.3103C12.3087 21.3454 11.2322 21.0706 10.4247 20.938C9.16991 20.732 7.88628 20.1617 7.81584 18.7096C7.75222 17.3998 8.77428 16.4862 9.99784 16.284V15.6654C9.99784 15.5328 10.0505 15.4057 10.1443 15.3119C10.2381 15.2181 10.3652 15.1654 10.4978 15.1654C10.6305 15.1654 10.7576 15.2181 10.8514 15.3119C10.9452 15.4057 10.9978 15.5328 10.9978 15.6654V16.2762C11.9953 16.4274 12.8018 17.0339 13.1955 17.9718C13.2441 18.0935 13.2428 18.2295 13.1922 18.3503C13.1415 18.4711 13.0454 18.5672 12.9245 18.6179C12.8037 18.6686 12.6678 18.6699 12.5461 18.6213C12.4243 18.5728 12.3265 18.4785 12.2737 18.3586C12.0275 17.7723 11.5598 17.4338 11.046 17.3036C10.1035 17.0647 8.75634 17.5189 8.81191 18.6628C8.85534 19.5579 9.85291 19.8336 10.5848 19.9537C11.8932 20.1685 13.2362 20.6957 13.4179 22.1932C13.4264 22.2667 13.4313 22.3406 13.4327 22.4146C13.4656 23.7979 12.2248 24.528 10.9978 24.6775V25.2811C10.9978 25.3467 10.9849 25.4117 10.9598 25.4724C10.9347 25.5331 10.8978 25.5882 10.8514 25.6346C10.7577 25.7284 10.6305 25.7811 10.4979 25.7811C10.4322 25.7811 10.3672 25.7682 10.3065 25.743C10.2459 25.7179 10.1907 25.6811 10.1443 25.6347C10.0505 25.5409 9.99785 25.4137 9.99784 25.2811V24.6684C8.84972 24.5038 7.86634 23.8001 7.57609 22.6361C7.5451 22.5079 7.56618 22.3726 7.63472 22.2598C7.70327 22.1471 7.81369 22.0661 7.94182 22.0346C8.06995 22.0031 8.20534 22.0236 8.31836 22.0917C8.43138 22.1598 8.51282 22.2699 8.54484 22.3979C8.64822 22.8125 8.89516 23.1276 9.21822 23.3428C9.70722 23.6684 10.3068 23.7549 10.8791 23.6854ZM7.39253 10.7723H13.6568C14.4292 10.7723 15.061 10.1404 15.061 9.36819C15.061 8.59581 14.4292 7.964 13.6568 7.964H7.39253C6.62016 7.964 5.98841 8.59581 5.98841 9.36806C5.98841 10.1404 6.62022 10.7723 7.39253 10.7723ZM18.475 13.7624H18.9947C19.1273 13.7624 19.2544 13.7098 19.3482 13.616C19.442 13.5222 19.4947 13.395 19.4947 13.2624C19.4947 13.1298 19.442 13.0027 19.3482 12.9089C19.2544 12.8151 19.1273 12.7624 18.9947 12.7624H18.475C18.3424 12.7624 18.2152 12.8151 18.1214 12.9089C18.0276 13.0027 17.975 13.1298 17.975 13.2624C17.975 13.395 18.0276 13.5222 18.1214 13.616C18.2152 13.7098 18.3424 13.7624 18.475 13.7624ZM23.7689 18.0565V17.5368C23.7689 17.4042 23.7162 17.277 23.6225 17.1833C23.5287 17.0895 23.4015 17.0368 23.2689 17.0368C23.1363 17.0368 23.0091 17.0895 22.9154 17.1833C22.8216 17.277 22.7689 17.4042 22.7689 17.5368V18.0565C22.7689 18.1891 22.8216 18.3163 22.9154 18.4101C23.0091 18.5038 23.1363 18.5565 23.2689 18.5565C23.4015 18.5565 23.5287 18.5038 23.6225 18.4101C23.7162 18.3163 23.7689 18.1891 23.7689 18.0565ZM28.063 12.7625H27.5433C27.4107 12.7625 27.2835 12.8152 27.1897 12.9089C27.096 13.0027 27.0433 13.1299 27.0433 13.2625C27.0433 13.3951 27.096 13.5223 27.1897 13.6161C27.2835 13.7098 27.4107 13.7625 27.5433 13.7625H28.063C28.1956 13.7625 28.3228 13.7098 28.4165 13.6161C28.5103 13.5223 28.563 13.3951 28.563 13.2625C28.563 13.1299 28.5103 13.0027 28.4165 12.9089C28.3228 12.8152 28.1956 12.7625 28.063 12.7625ZM19.5255 10.2261L19.893 10.5936C19.9394 10.64 19.9945 10.6768 20.0552 10.7019C20.1158 10.7271 20.1808 10.74 20.2465 10.74C20.3121 10.74 20.3771 10.7271 20.4378 10.7019C20.4984 10.6768 20.5535 10.64 20.6 10.5936C20.6464 10.5471 20.6832 10.492 20.7084 10.4314C20.7335 10.3707 20.7464 10.3057 20.7464 10.2401C20.7464 10.1744 20.7335 10.1094 20.7084 10.0487C20.6832 9.98809 20.6464 9.93298 20.6 9.88656L20.2325 9.51912C20.1861 9.4727 20.131 9.43587 20.0703 9.41074C20.0097 9.38561 19.9447 9.37268 19.879 9.37268C19.8134 9.37268 19.7484 9.38561 19.6877 9.41074C19.6271 9.43587 19.5719 9.4727 19.5255 9.51912C19.4791 9.56554 19.4423 9.62065 19.4171 9.68131C19.392 9.74196 19.3791 9.80697 19.3791 9.87263C19.3791 9.93828 19.392 10.0033 19.4171 10.0639C19.4423 10.1246 19.4791 10.1797 19.5255 10.2261ZM20.2326 17.0059L20.6 16.6384C20.6465 16.592 20.6833 16.5369 20.7084 16.4763C20.7335 16.4156 20.7465 16.3506 20.7465 16.2849C20.7465 16.2193 20.7335 16.1543 20.7084 16.0936C20.6833 16.033 20.6465 15.9779 20.6 15.9314C20.5536 15.885 20.4985 15.8482 20.4378 15.8231C20.3772 15.7979 20.3122 15.785 20.2465 15.785C20.1809 15.785 20.1159 15.7979 20.0552 15.8231C19.9946 15.8482 19.9394 15.885 19.893 15.9314L19.5256 16.2989C19.4625 16.3618 19.4174 16.4406 19.3952 16.5269C19.5189 16.7279 19.6389 16.9312 19.7552 17.1368C19.8392 17.1583 19.9275 17.1576 20.0112 17.1346C20.0949 17.1117 20.1712 17.0673 20.2326 17.0059ZM27.0123 16.2988L26.6449 15.9314C26.5985 15.8849 26.5434 15.8481 26.4827 15.823C26.4221 15.7979 26.3571 15.7849 26.2914 15.7849C26.2258 15.7849 26.1607 15.7979 26.1001 15.823C26.0394 15.8481 25.9843 15.8849 25.9379 15.9314C25.8915 15.9778 25.8546 16.0329 25.8295 16.0936C25.8044 16.1542 25.7915 16.2192 25.7915 16.2849C25.7915 16.3505 25.8044 16.4155 25.8295 16.4762C25.8546 16.5368 25.8915 16.592 25.9379 16.6384L26.3053 17.0058C26.3518 17.0522 26.4069 17.0891 26.4675 17.1142C26.5282 17.1393 26.5932 17.1523 26.6588 17.1523C26.7245 17.1523 26.7895 17.1393 26.8502 17.1142C26.9108 17.0891 26.9659 17.0522 27.0123 17.0058C27.0588 16.9594 27.0956 16.9043 27.1207 16.8436C27.1459 16.783 27.1588 16.718 27.1588 16.6523C27.1588 16.5867 27.1459 16.5216 27.1207 16.461C27.0956 16.4003 27.0588 16.3452 27.0123 16.2988ZM26.3053 9.51906L25.9378 9.8865C25.8914 9.93292 25.8546 9.98803 25.8295 10.0487C25.8043 10.1093 25.7914 10.1743 25.7914 10.24C25.7914 10.3057 25.8043 10.3707 25.8295 10.4313C25.8546 10.492 25.8914 10.5471 25.9378 10.5935C25.9843 10.6399 26.0394 10.6768 26.1 10.7019C26.1607 10.727 26.2257 10.7399 26.2913 10.7399C26.357 10.7399 26.422 10.727 26.4827 10.7019C26.5433 10.6768 26.5984 10.6399 26.6448 10.5935L27.0123 10.2261C27.0587 10.1796 27.0955 10.1245 27.1206 10.0639C27.1458 10.0032 27.1587 9.93821 27.1587 9.87256C27.1587 9.80691 27.1458 9.7419 27.1206 9.68125C27.0955 9.6206 27.0587 9.56548 27.0123 9.51906C26.9659 9.47264 26.9107 9.43582 26.8501 9.41069C26.7894 9.38557 26.7244 9.37264 26.6588 9.37264C26.5931 9.37264 26.5281 9.38557 26.4675 9.41069C26.4068 9.43582 26.3517 9.47264 26.3053 9.51906ZM22.7689 8.4685V8.98819C22.7689 9.1208 22.8216 9.24797 22.9154 9.34174C23.0091 9.43551 23.1363 9.48819 23.2689 9.48819C23.4015 9.48819 23.5287 9.43551 23.6225 9.34174C23.7162 9.24797 23.7689 9.1208 23.7689 8.98819V8.4685C23.7689 8.33589 23.7162 8.20871 23.6225 8.11495C23.5287 8.02118 23.4015 7.9685 23.2689 7.9685C23.1363 7.9685 23.0091 8.02118 22.9154 8.11495C22.8216 8.20871 22.7689 8.33589 22.7689 8.4685ZM22.7689 10.9844V13.2624C22.7689 13.3583 22.7964 13.4521 22.8482 13.5327C22.9 13.6134 22.9739 13.6774 23.061 13.7172L24.5418 14.5722C24.6562 14.6362 24.7912 14.6525 24.9175 14.6176C25.0438 14.5827 25.1513 14.4993 25.2166 14.3857C25.2819 14.2721 25.2997 14.1373 25.2663 14.0106C25.2328 13.8839 25.1508 13.7755 25.0379 13.7089L23.7688 12.9762V10.9843C23.7696 10.9182 23.7572 10.8526 23.7324 10.7913C23.7076 10.73 23.6709 10.6742 23.6244 10.6272C23.5779 10.5801 23.5225 10.5428 23.4615 10.5173C23.4004 10.4919 23.335 10.4788 23.2688 10.4788C23.2027 10.4788 23.1372 10.4919 23.0762 10.5174C23.0152 10.5428 22.9598 10.5802 22.9133 10.6272C22.8668 10.6742 22.8301 10.73 22.8053 10.7913C22.7805 10.8526 22.7682 10.9182 22.7689 10.9844Z" fill="#686FFF"/>
</svg>
}
          iconBg="bg-[#686FFF1A]"
        />

        <Card
            title="Income"
            amount={formatMoney(overview?.totalIncome)}
          icon={<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M31 26.0001C31 26.2654 30.8946 26.5197 30.7071 26.7072C30.5196 26.8948 30.2652 27.0001 30 27.0001H2C1.73478 27.0001 1.48043 26.8948 1.29289 26.7072C1.10536 26.5197 1 26.2654 1 26.0001C1 25.7349 1.10536 25.4806 1.29289 25.293C1.48043 25.1055 1.73478 25.0001 2 25.0001H30C30.2652 25.0001 30.5196 25.1055 30.7071 25.293C30.8946 25.4806 31 25.7349 31 26.0001ZM2.0375 12.2726C1.97802 12.0629 1.9887 11.8395 2.0679 11.6364C2.1471 11.4334 2.2905 11.2617 2.47625 11.1476L15.4762 3.14764C15.6338 3.05079 15.8151 2.99951 16 2.99951C16.1849 2.99951 16.3662 3.05079 16.5238 3.14764L29.5238 11.1476C29.7096 11.2616 29.8531 11.4331 29.9324 11.6361C30.0118 11.8391 30.0226 12.0625 29.9633 12.2722C29.904 12.4819 29.7778 12.6666 29.6039 12.798C29.43 12.9294 29.218 13.0004 29 13.0001H26V21.0001H28C28.2652 21.0001 28.5196 21.1055 28.7071 21.293C28.8946 21.4806 29 21.7349 29 22.0001C29 22.2654 28.8946 22.5197 28.7071 22.7072C28.5196 22.8948 28.2652 23.0001 28 23.0001H4C3.73478 23.0001 3.48043 22.8948 3.29289 22.7072C3.10536 22.5197 3 22.2654 3 22.0001C3 21.7349 3.10536 21.4806 3.29289 21.293C3.48043 21.1055 3.73478 21.0001 4 21.0001H6V13.0001H3C2.78224 13.0002 2.5704 12.9292 2.39668 12.7979C2.22295 12.6666 2.09684 12.4822 2.0375 12.2726ZM18 20.0001C18 20.2654 18.1054 20.5197 18.2929 20.7072C18.4804 20.8948 18.7348 21.0001 19 21.0001C19.2652 21.0001 19.5196 20.8948 19.7071 20.7072C19.8946 20.5197 20 20.2654 20 20.0001V14.0001C20 13.7349 19.8946 13.4806 19.7071 13.293C19.5196 13.1055 19.2652 13.0001 19 13.0001C18.7348 13.0001 18.4804 13.1055 18.2929 13.293C18.1054 13.4806 18 13.7349 18 14.0001V20.0001ZM12 20.0001C12 20.2654 12.1054 20.5197 12.2929 20.7072C12.4804 20.8948 12.7348 21.0001 13 21.0001C13.2652 21.0001 13.5196 20.8948 13.7071 20.7072C13.8946 20.5197 14 20.2654 14 20.0001V14.0001C14 13.7349 13.8946 13.4806 13.7071 13.293C13.5196 13.1055 13.2652 13.0001 13 13.0001C12.7348 13.0001 12.4804 13.1055 12.2929 13.293C12.1054 13.4806 12 13.7349 12 14.0001V20.0001Z" fill="#3447AA"/>
</svg>
}
          iconBg="bg-[#3447AA1A]"
        />

        <Card
            title="Expenses"
            amount={formatMoney(overview?.totalExpenses)}
          icon={<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M16.0112 7.17252C16.0673 6.39647 16.3236 5.64821 16.7551 5.00077C17.1866 4.35334 17.7787 3.82886 18.4734 3.47853C19.1682 3.1282 19.9419 2.96399 20.719 3.00194C21.4962 3.03988 22.2502 3.27868 22.9075 3.69502C22.9827 3.74419 23.0432 3.8127 23.0827 3.89334C23.1222 3.97398 23.1393 4.06377 23.1322 4.1533C23.125 4.24282 23.0938 4.32876 23.042 4.40209C22.9902 4.47541 22.9195 4.53343 22.8375 4.57002C21.6949 5.08411 20.7249 5.91714 20.0442 6.96906C19.3634 8.02098 19.0009 9.24706 19 10.5C19 10.6463 19 10.7925 19.015 10.9363C19.0219 11.0271 19.0038 11.1181 18.9627 11.1995C18.9217 11.2808 18.8591 11.3494 18.7819 11.3978C18.7047 11.4462 18.6158 11.4725 18.5247 11.474C18.4335 11.4755 18.3438 11.4521 18.265 11.4063C17.5283 10.9849 16.9258 10.3638 16.5271 9.61468C16.1283 8.86556 15.9495 8.01893 16.0112 7.17252ZM30 20.0763C30.0018 20.6477 29.8435 21.2082 29.543 21.6942C29.2426 22.1803 28.8119 22.5724 28.3 22.8263L28.245 22.8513L23.3913 24.9188C23.3433 24.9399 23.2935 24.9566 23.2425 24.9688L15.2425 26.9688C15.1633 26.9892 15.0818 26.9997 15 27H2C1.46957 27 0.960859 26.7893 0.585786 26.4142C0.210714 26.0392 0 25.5305 0 25V20C0 19.4696 0.210714 18.9609 0.585786 18.5858C0.960859 18.2107 1.46957 18 2 18H5.58625L8.41375 15.1713C8.78451 14.7989 9.22539 14.5036 9.71092 14.3026C10.1964 14.1015 10.717 13.9987 11.2425 14H17.5C18.0282 14 18.5496 14.1195 19.0251 14.3496C19.5005 14.5797 19.9177 14.9144 20.2454 15.3287C20.5731 15.743 20.8028 16.226 20.9172 16.7417C21.0317 17.2574 21.0279 17.7923 20.9062 18.3063L26.1362 17.1038C26.5915 16.9832 27.0685 16.9688 27.5302 17.0616C27.992 17.1545 28.4262 17.3521 28.7995 17.6393C29.1728 17.9265 29.4752 18.2956 29.6833 18.7181C29.8915 19.1406 29.9998 19.6053 30 20.0763ZM28 20.0763C27.9998 19.9109 27.9616 19.7478 27.8882 19.5997C27.8148 19.4515 27.7083 19.3222 27.5769 19.2219C27.4455 19.1215 27.2927 19.0528 27.1305 19.0211C26.9682 18.9893 26.8008 18.9954 26.6413 19.0388L26.6025 19.0488L18.2275 20.975C18.154 20.9914 18.079 20.9998 18.0037 21H14C13.7348 21 13.4804 20.8947 13.2929 20.7071C13.1054 20.5196 13 20.2652 13 20C13 19.7348 13.1054 19.4805 13.2929 19.2929C13.4804 19.1054 13.7348 19 14 19H17.5C17.8978 19 18.2794 18.842 18.5607 18.5607C18.842 18.2794 19 17.8978 19 17.5C19 17.1022 18.842 16.7207 18.5607 16.4394C18.2794 16.1581 17.8978 16 17.5 16H11.2425C10.9798 15.9992 10.7195 16.0506 10.4768 16.1512C10.2341 16.2519 10.0138 16.3997 9.82875 16.5863L7 19.4138V25H14.875L22.6787 23.0488L27.4287 21.0263C27.6016 20.9352 27.7463 20.7985 27.847 20.631C27.9477 20.4635 28.0006 20.2717 28 20.0763ZM21 10.5C21 11.39 21.2639 12.2601 21.7584 13.0001C22.2529 13.7401 22.9557 14.3169 23.7779 14.6575C24.6002 14.9981 25.505 15.0872 26.3779 14.9136C27.2508 14.7399 28.0526 14.3113 28.682 13.682C29.3113 13.0527 29.7399 12.2508 29.9135 11.3779C30.0872 10.505 29.9981 9.60022 29.6575 8.77795C29.3169 7.95568 28.7401 7.25288 28.0001 6.75841C27.26 6.26394 26.39 6.00002 25.5 6.00002C24.3065 6.00002 23.1619 6.47413 22.318 7.31804C21.4741 8.16196 21 9.30655 21 10.5Z" fill="#16C087"/>
</svg>
}
          iconBg="bg-[#16C0871A]"
        />
      </div>
    </div>
  );
}
